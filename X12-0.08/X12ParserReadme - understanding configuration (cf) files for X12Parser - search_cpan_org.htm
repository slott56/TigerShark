<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0050)http://search.cpan.org/~prasad/X12-0.08/Readme.pod -->
<HTML><HEAD><TITLE>X12::Parser::Readme - understanding configuration (cf) files for X12::Parser - search.cpan.org</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1"><LINK 
href="X12ParserReadme - understanding configuration (cf) files for X12Parser - search_cpan_org_files/style.css" 
type=text/css rel=stylesheet><LINK title="RSS 1.0" 
href="http://search.cpan.org/uploads.rdf" type=application/rss+xml 
rel=alternate>
<META content="MSHTML 6.00.2900.3199" name=GENERATOR></HEAD>
<BODY id=cpansearch>
<CENTER>
<DIV class=logo><A href="http://search.cpan.org/"><IMG alt=CPAN 
src="X12ParserReadme - understanding configuration (cf) files for X12Parser - search_cpan_org_files/cpan_banner.png"></A></DIV></CENTER>
<DIV class=menubar><A href="http://search.cpan.org/">Home</A>  <A 
href="http://search.cpan.org/author/">Authors</A>  <A 
href="http://search.cpan.org/recent">Recent</A>  <A 
href="http://log.perl.org/cpansearch/">News</A>  <A 
href="http://search.cpan.org/mirror">Mirrors</A>  <A 
href="http://search.cpan.org/faq.html">FAQ</A>  <A 
href="http://search.cpan.org/feedback">Feedback</A> </DIV>
<FORM class=searchbox name=f action=/search method=get><INPUT size=35 
name=query> <BR>in <SELECT name=mode> <OPTION value=all selected>All</OPTION> 
  <OPTION value=module>Modules</OPTION> <OPTION 
  value=dist>Distributions</OPTION> <OPTION 
value=author>Authors</OPTION></SELECT>&nbsp;<INPUT type=submit value="CPAN Search"> 
</FORM><A name=_top></A>
<DIV class=path>
<DIV id=permalink><A 
href="http://search.cpan.org/perldoc?X12::Parser::Readme">permalink</A></DIV><A 
href="http://search.cpan.org/~prasad/">Prasad Balan</A> &gt; <A 
href="http://search.cpan.org/~prasad/X12-0.08/">X12-0.08</A> &gt; 
X12::Parser::Readme </DIV>
<DIV style="FLOAT: right; WIDTH: 40%; align: right"><IMG style="FLOAT: right" 
height=80 
src="X12ParserReadme - understanding configuration (cf) files for X12Parser - search_cpan_org_files/who.jpg" 
width=80> <BR style="CLEAR: both">
<P style="TEXT-ALIGN: right">Download:<BR><A 
href="http://search.cpan.org/CPAN/authors/id/P/PR/PRASAD/X12-0.08.tar.gz">X12-0.08.tar.gz</A></P>
<P style="TEXT-ALIGN: right"><A 
href="http://www.annocpan.org/~PRASAD/X12-0.08/Readme.pod">Annotate this POD 
</A></P>
<DIV style="FLOAT: right">
<DIV class=box style="WIDTH: 150px">
<H1 class=t5>CPAN RT</H1>
<TABLE style="MARGIN-LEFT: auto; MARGIN-RIGHT: auto">
  <TBODY>
  <TR>
    <TD>Open&nbsp;</TD>
    <TD style="TEXT-ALIGN: right">0</TD></TR></TBODY></TABLE><A 
href="http://rt.cpan.org/Public/Bug/Report.html?Queue=X12">Report a bug</A> 
</DIV></DIV></DIV><A 
href="http://search.cpan.org/src/PRASAD/X12-0.08/Readme.pod">Source</A> &nbsp; 
<DIV class=pod><A name=___top></A>
<DIV class=pod>
<DIV class=toc>
<DIV class=indexgroup>
<UL class="indexList indexList1">
  <LI class="indexItem indexItem1"><A 
  href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#NAME">NAME</A> 
  <UL class="indexList indexList2">
    <LI class="indexItem indexItem2"><A 
    href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#X12_transactions">X12 
    transactions</A> 
    <LI class="indexItem indexItem2"><A 
    href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#Parsing">Parsing</A> 

    <LI class="indexItem indexItem2"><A 
    href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#Cf_file_specification_for_X12::Parser">Cf 
    file specification for X12::Parser</A> 
    <UL class="indexList indexList3">
      <LI class="indexItem indexItem3"><A 
      href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#section">section</A> 

      <LI class="indexItem indexItem3"><A 
      href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#key=value">key=value</A> 
      </LI></UL>
    <LI class="indexItem indexItem2"><A 
    href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#Limitations">Limitations</A> 

    <LI class="indexItem indexItem2"><A 
    href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#Building_a_cf_file">Building 
    a cf file</A> 
    <UL class="indexList indexList3">
      <LI class="indexItem indexItem3"><A 
      href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#835_transaction">835 
      transaction</A> 
      <LI class="indexItem indexItem3"><A 
      href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#Sample_cf_file">Sample 
      cf file</A> 
      <LI class="indexItem indexItem3"><A 
      href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#Description">Description</A> 
      </LI></UL></LI></UL>
  <LI class="indexItem indexItem1"><A 
  href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#SEE_ALSO">SEE 
  ALSO</A> 
  <LI class="indexItem indexItem1"><A 
  href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#AUTHOR">AUTHOR</A> 
  <LI class="indexItem indexItem1"><A 
  href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#COPYRIGHT_AND_LICENSE">COPYRIGHT 
  AND LICENSE</A> </LI></UL></DIV></DIV>
<H1><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" name=NAME>NAME 
<IMG alt=^ 
src="X12ParserReadme - understanding configuration (cf) files for X12Parser - search_cpan_org_files/up.gif"></A></H1>
<P>X12::Parser::Readme - understanding configuration (cf) files for 
X12::Parser</P>
<H2><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=X12_transactions>X12 transactions</A></H2>
<P>ASC X12 standards define commonly used EDI transactions. The standards define 
a structure/format for exchange of EDI data.</P>
<P>Each transaction type is called a "transaction set". The smallest data item 
in a transaction is called an "element". Groups of related elements form a data 
segment. A data element separator separates the elements within a segment. A 
segment starts with a element which is called the segment ID, and ends with a 
segment terminator.</P>
<P>Logical groups of segments are called loops. There are some segments, which 
are used only to identify the beginning of a loop, these are called as control 
segments. A logical set of loops together form a "transaction set".</P>
<P>Similar transaction sets can be lumped together by enclosing them in data 
segments that are known as functional group headers and trailers. Functional 
groups are grouped together using interchange control headers and trailers.</P>
<H2><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=Parsing>Parsing</A></H2>
<P>Unlike XML/HTML parsers which relies on "&lt;" and "&gt;" tags to determine 
start and end of data blocks, X12 transactions rely on pre-defined values 
(segment IDs) to indicate start and end of related data blocks (loops). 
Developing a parser that would work for all X12 transactions poses a challenge 
in this respect, as each transaction has its own hierarchy of loops and 
start/end indicators.</P>
<P>This lead to the development of the X12 configuration file (<I>cf</I>) 
specification. The cf specification is created to specify details regarding the 
blocks/loops and start/end information in a common format. Cf files can be 
created for the different transaction sets. (see section <I>Building a cf 
file</I>).</P>
<P>Now you can parse your EDI data file by invoking the X12::Parser specifying 
the cf file to use. This allows you to parse any X12 transaction data files just 
by building the cf file for that transaction type.</P>
<H2><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=Cf_file_specification_for_X12::Parser>Cf file specification for 
X12::Parser</A></H2>
<P>The cf file specifies any transaction in a hierarchical form. It identifies 
the loops and segments in a transaction. This information is used to parse the 
transaction file. The X12::Parser uses the X12::Parser::Cf module to read the cf 
file information before parsing a transaction file. Since the X12::Parser parses 
files based on the cf file it allows the user to parse different X12 transaction 
types just by using the appropriate cf file. The user can use the cf files that 
are bundled with this package or create new cf files. The cf provided with this 
package is for the HIPAA X12 Ver 4010 X12 transactions.</P>
<P>A cf file has two types of information: <I>section</I> and <I>key=value</I> 
pairs. A section contains information in key=value pairs.</P>
<H3><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=section>section</A></H3>
<P>Sections are identified by the square brackets ("[" and "]"). Section 
represents loops (or logical blocks) in a X12 transaction. The name of the loop 
or the block is specified in square brackets. The section <I>[LOOPS]</I> is 
mandatory in a configuration file. It consists only the names of the top level 
loops instead of key=value pairs. The X12::Parser::Cf cf file reader starts 
reading a cf file from the [LOOPS] section.</P>
<H3><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=key=value>key=value</A></H3>
<P>There are two predefined keys, which are recognized by the Cf file reader, 
namely: <I>segment</I> and <I>loop</I>. Segment key is used to define the 
segments that are part of the current section/loop. The loop key is used to 
define the sub-loops or the child loops for the current section/loop.</P>
<P>Note: The term section and loop is used interchangeably as a section in the 
cf file represents a loop in a X12 transaction.</P>
<P>Within a section, the first key=value pair represents the start of the loop. 
Each section/loop should have atleast one key=value pair for the X12::Parser to 
identify the loop in the X12 transaction file. Although the X12::Parser::Cf 
modules reads all the key=value pairs, the X12::Parser uses only the first 
key=value pair to identify the loops. The user may specify only the first 
key=value pairs for each loop.</P>
<P>Value itself consists of 6 fields separated by <I>':'</I>. All values are not 
currently used.</P><PRE>          key=value1:value2:value3:value4:value5:value6</PRE>
<P>When parsing a X12 transaction file, the values help the X12::Parser 
determine if a segment is the start of a loop.</P>
<P>a. value1, is the segment id for a segment in a X12 transaction. The first 
key=value pair within a section tells the X12::Parser how to identify the 
loop.</P>
<P>b. In some cases, to identify a loop correctly it is not enough to look at 
the segment id, you need to look at the qualifier too.</P>
<P>value2 and value3 are used to specify this. value2 is used to specify the 
position on the segment that the X12::Parser should look for value3. value3 
consists of a <I>','</I> separated list of qualifiers.</P>
<P>c. value4 is a description of the segment. (not used)</P>
<P>d. value5 indicates if the segment is required or situational. (not used)</P>
<P>e. value6 indicates the allowable repeat count for the segment.(not used)</P>
<P>Currently values 1, 2 and 3 are used for parsing the transaction file. The 
others may be used in later versions of this package.</P>
<H2><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=Limitations>Limitations</A></H2>
<P>The X12::Parser::Cf module does not do validation of the Cf files. Since the 
goal of the X12::Parser module is to parse X12 files, the X12::Parser::Cf module 
is very minimal. The user should ensure that the cf files are appropriate.</P>
<P>Do not put extra spaces after [ ] sections. Do not have leading spaces for 
section name and key=value pairs. Lines with a leading #, are considered 
comments.</P>
<P>To validate if X12::Parser::Cf is reading the cf file correctly try something 
like</P><PRE> use X12::Parser::Cf;

 my $cf = new X12::Parser::Cf;
 $cf-&gt;load("sample.cf");

 for (my $i=0; $i&lt;@{$cf-&gt;{'looptree'}}; $i++) {
   print "$cf-&gt;{'looptree'}-&gt;[$i][0]\t";          #- loop level
   print "$cf-&gt;{'looptree'}-&gt;[$i][1]\t";          #- loop name
   print "$cf-&gt;{'segmentstart'}-&gt;{$loop}-&gt;[0]\n"; #- loop start
 }</PRE>
<P>This would print a list of loop levels, loop names and loop start segment 
information. If this doesn't look like what you wanted, go back and fix your cf 
file.</P>
<H2><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=Building_a_cf_file>Building a cf file</A></H2>
<P>Lets take the case of building a cf file for Version 004010 of ANSI ASC 
X12.85, Health Care Claim Payment/Advice (835) transaction.</P>
<H3><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=835_transaction>835 transaction</A></H3>
<P>A 835 transaction structure would contain the following loops.</P><PRE>    ISA
    |-- GS
        |-- ST
            |-- 1000A
            |-- 1000B
            |-- 2000
                |-- 2100
                |-- 2110
        |-- SE
    |-- GE
    IEA</PRE>
<P>The above diagram shows the hierarchy of the loops. The data segments are not 
shown.</P>
<H3><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=Sample_cf_file>Sample cf file</A></H3><PRE>     /-------------------------------------------------\
     | ### start of the configuration file ###         |
 (1) | [LOOPS]                                         |
 (2) | ISA                                             |
     | IEA                                             |
     |                                                 |
     | #--- start of loop details ---#                 |
 (3) | [ISA]                                           |
 (4) | segment=ISA:::Interchange Control Header:R:1    |
 (5) | loop=GS                                         |
     |                                                 |
 (6) | [GS]                                            |
     | segment=GS:::Functional Group Header:R:1        |
     | loop=ST                                         |
     |                                                 |
 (7) | [ST]                                            |
     | segment=ST:1:835:Transaction Set Header:R:1     |
 (8) | loop=1000A                                      |
     | loop=1000B                                      |
     | loop=2000                                       |
     |                                                 |
     | [1000A]                                         |
 (9) | segment=N1:1:PR:Payer Identification:R:1        |
     |                                                 |
     | [1000B]                                         |
     | segment=N1:1:PE:Payee Identification:R:1        |
     |                                                 |
     | [2000]                                          |
     | segment=LX:::Header Number:S:1                  |
     | loop=2100                                       |
     | loop=2110                                       |
     |                                                 |
     | [2100]                                          |
     | segment=CLP:::Claim Payment Information:R:1     |
     |                                                 |
     | [2110]                                          |
     | segment=SVC:::Service Payment Information:S:1   |
     |                                                 |
     | [SE]                                            |
     | segment=SE:::Transaction Set Trailer:R:1        |
     |                                                 |
     | [GE]                                            |
     | segment=GE:::Functional Group Trailer:R:1       |
     |                                                 |
 (3) | [IEA]                                           |
     | segment=IEA:::Interchange Group Trailer:R:1     |
     | ### end of the configuration file ###           |
     \-------------------------------------------------/</PRE>
<H3><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=Description>Description</A></H3>
<P>(1) LOOPS section is mandatory. Add the main loops under this section. Here 
we have added ISA and IEA loops (2). These are the top level loops.</P>
<P>(3) Create a section for each of the loops mentioned under LOOPS</P>
<P>(4) use the segment key to specify how the X12::Parser should determine the 
start of the ISA loop. We will explain the fields better when we come to 
(9).</P>
<P>(5) if any, specify the sub-loops for ISA segment. In the above example GS is 
a sub loop for ISA. In there are more than one sub loops under ISA specify them 
too using the loop keyword. See (8) how three sub loops are specified.</P>
<P>(6) create a section for all loops specified under section ISA. Here it is 
GS. Use the section key and if there are any sub loops use the loop key to 
define their values.</P>
<P>Follow the same procedure to define all the loops and sub-loops.</P>
<P>(9) Here's a description of the fields of the values for segment. 
segment=N1:1:PR:Payer Identification:R:1 | | | | | | (a)(b)(c) (d) (e)(f)</P><PRE>   (a) specify the segment id here. Loop 1000A starts with N1 so 
       specify N1 here.

   (b) and (c), there are cases when the segment id does not uniquely
       identify a loop. For eg. Loop 1000A and 1000B both start
       with N1 segment id. When parsing a transaction file, if the 
       parser encounters a segment starting with N1, it needs additional
       information to decide if it is Loop 1000A or 1000B. 
       This is done by specifying the the qualifier information 
       in the fields (b) and (c).
       (b) specify the position in the X12 segment where the parser 
           should look for the qualifier specified in (c).
          
       If there are multiple qualifiers which identify a loop, specify
       all of them in position (c) separated by a comma.

   (d) This is the description of the segment. You may leave this 
       blank. (not used)

   (e) Specify if the segment is required or situational. (not used)

   (f) Specify the number of times the segment can be repeated.
       (not used)

       The fields (d) (e) and (f) are not used currently, but later
       releases may support these fields.</PRE>
<H1><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=SEE_ALSO>SEE ALSO <IMG alt=^ 
src="X12ParserReadme - understanding configuration (cf) files for X12Parser - search_cpan_org_files/up.gif"></A></H1>
<P>o For details on Transaction sets refer to: National Electronic Data 
Interchange Transaction Set Implementaion Guide. Implementation guides are 
available for all the Transaction sets.</P>
<P>o <I><A class=podlinkpod 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod">X12::Parser::Readme</A></I> 
for more information on the Parser and configuration files.</P>
<P>o <I><A class=podlinkpod 
href="http://search.cpan.org/~prasad/X12-0.08/lib/X12/Parser/Cf.pm">X12::Parser::Cf</A></I></P>
<P>If you have a mailing list set up for your module, mention it here.</P>
<P>If you have a web site set up for your module, mention it here.</P>
<H1><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=AUTHOR>AUTHOR <IMG alt=^ 
src="X12ParserReadme - understanding configuration (cf) files for X12Parser - search_cpan_org_files/up.gif"></A></H1>
<P>Prasad Poruporuthan, <I>prasad@cpan.org</I></P>
<H1><A class=u title="click to go to top of document" 
href="http://search.cpan.org/~prasad/X12-0.08/Readme.pod#___top" 
name=COPYRIGHT_AND_LICENSE>COPYRIGHT AND LICENSE <IMG alt=^ 
src="X12ParserReadme - understanding configuration (cf) files for X12Parser - search_cpan_org_files/up.gif"></A></H1>
<P>Copyright 2003 by Prasad Poruporuthan</P>
<P>This library is free software; you can redistribute it and/or modify it under 
the same terms as Perl itself.</P></DIV></DIV>
<DIV class=footer>hosted by <A 
href="http://www.perl.org/siteinfo.html">perl.org</A>, hardware provided 
by<BR><A href="http://www.bizrate.com/"><IMG alt="Online Shopping" 
src="X12ParserReadme - understanding configuration (cf) files for X12Parser - search_cpan_org_files/bizrate_logo.png"><BR>Shopping</A> 
</DIV><!-- Fri Jan 11 14:51:35 2008 GMT (0.351049184799194) @x7 --></BODY></HTML>
